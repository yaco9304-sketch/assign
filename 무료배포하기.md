# 무료로 배포하는 방법

## 방법 1: Railway (가장 추천! 가장 쉬움)

Railway는 무료 티어가 있어서 월 5달러 크레딧을 제공합니다. (거의 무료)

### 1단계: Railway 가입
1. https://railway.app 접속
2. GitHub로 가입 (무료)

### 2단계: 프로젝트 배포

**옵션 A: GitHub에 코드 올리기 (추천)**
```bash
# 1. GitHub 저장소 만들기
# GitHub.com에서 새 저장소 생성

# 2. 코드 업로드
cd /Users/yaco/Desktop/xlsx
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/your-username/assignment.git
git push -u origin main
```

**옵션 B: Railway에서 직접 배포**
1. Railway 대시보드 → "New Project"
2. "Deploy from GitHub repo" 선택
3. 저장소 선택

### 3단계: 환경 변수 설정

Railway 대시보드에서:
1. 프로젝트 → "Variables" 탭
2. 다음 변수 추가:
   - `SECRET_KEY`: 랜덤 문자열
   - `ADMIN_PASSWORD`: 관리자 비밀번호
   - `TEACHER_PASSWORD`: 교사 비밀번호
   - `GOOGLE_CLIENT_ID`: Google OAuth ID
   - `GOOGLE_CLIENT_SECRET`: Google OAuth Secret
   - `DATABASE_URL`: Railway가 자동으로 생성 (PostgreSQL)

### 4단계: 데이터베이스 추가

1. Railway 프로젝트 → "New" → "Database" → "PostgreSQL"
2. 자동으로 `DATABASE_URL` 환경 변수가 생성됨

### 5단계: 프론트엔드 배포

**Vercel 사용 (무료)**
1. https://vercel.com 접속
2. GitHub로 가입
3. "Add New Project"
4. 저장소 선택
5. 환경 변수 추가:
   - `VITE_API_BASE_URL`: Railway에서 생성된 백엔드 URL
   - `VITE_GOOGLE_CLIENT_ID`: Google OAuth ID

**또는 Netlify 사용 (무료)**
1. https://netlify.com 접속
2. GitHub로 가입
3. "Add new site" → "Import an existing project"
4. 저장소 선택
5. Build command: `npm run build`
6. Publish directory: `dist`
7. 환경 변수 추가 (위와 동일)

---

## 방법 2: Render (완전 무료)

Render는 무료 티어가 있어서 완전 무료로 사용 가능합니다.

### 1단계: Render 가입
1. https://render.com 접속
2. GitHub로 가입

### 2단계: 백엔드 배포

1. Render 대시보드 → "New" → "Web Service"
2. GitHub 저장소 연결
3. 설정:
   - **Name**: assignment-backend
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`
   - **Root Directory**: `backend`

4. 환경 변수 추가:
   - `SECRET_KEY`
   - `ADMIN_PASSWORD`
   - `TEACHER_PASSWORD`
   - `GOOGLE_CLIENT_ID`
   - `GOOGLE_CLIENT_SECRET`

### 3단계: 데이터베이스 추가

1. Render 대시보드 → "New" → "PostgreSQL"
2. 무료 플랜 선택
3. 생성된 데이터베이스 URL을 환경 변수에 추가:
   - `DATABASE_URL`: 자동 생성됨

### 4단계: 프론트엔드 배포

1. Render 대시보드 → "New" → "Static Site"
2. GitHub 저장소 연결
3. 설정:
   - **Root Directory**: `frontend`
   - **Build Command**: `npm install && npm run build`
   - **Publish Directory**: `dist`

4. 환경 변수 추가:
   - `VITE_API_BASE_URL`: 백엔드 URL
   - `VITE_GOOGLE_CLIENT_ID`: Google OAuth ID

---

## 방법 3: Fly.io (무료 티어)

Fly.io는 무료 티어로 3개의 공유 CPU VM을 제공합니다.

### 1단계: Fly.io 설치 및 가입

```bash
# Fly CLI 설치
curl -L https://fly.io/install.sh | sh

# 로그인
fly auth login
```

### 2단계: 백엔드 배포

```bash
cd backend

# Fly 앱 초기화
fly launch

# 환경 변수 설정
fly secrets set SECRET_KEY=your-secret-key
fly secrets set ADMIN_PASSWORD=admin1234
fly secrets set TEACHER_PASSWORD=teacher1234
fly secrets set GOOGLE_CLIENT_ID=your-id
fly secrets set GOOGLE_CLIENT_SECRET=your-secret

# PostgreSQL 추가
fly postgres create --name assignment-db

# 데이터베이스 연결
fly postgres attach assignment-db

# 배포
fly deploy
```

### 3단계: 프론트엔드 배포

```bash
cd frontend

# Fly 앱 초기화
fly launch

# 환경 변수 설정
fly secrets set VITE_API_BASE_URL=https://your-backend.fly.dev
fly secrets set VITE_GOOGLE_CLIENT_ID=your-id

# 배포
fly deploy
```

---

## 방법 4: Oracle Cloud Free Tier (완전 무료 VPS)

Oracle Cloud는 평생 무료로 2개의 VM을 제공합니다.

### 1단계: Oracle Cloud 가입
1. https://www.oracle.com/cloud/free/ 접속
2. 무료 계정 생성 (신용카드 필요하지만 과금 안 됨)

### 2단계: VM 인스턴스 생성

1. Oracle Cloud Console → "Create a VM instance"
2. 설정:
   - **Image**: Ubuntu 22.04
   - **Shape**: VM.Standard.A1.Flex (ARM, 4코어, 24GB RAM)
   - **SSH 키**: 생성 또는 업로드

### 3단계: 서버 설정

```bash
# 서버 접속
ssh ubuntu@서버IP

# 시스템 업데이트
sudo apt update && sudo apt upgrade -y

# Docker 설치
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker ubuntu

# Docker Compose 설치
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# 재로그인
exit
ssh ubuntu@서버IP
```

### 4단계: 프로젝트 배포

```bash
# 프로젝트 클론 (GitHub 사용)
git clone https://github.com/your-username/assignment.git
cd assignment

# .env 파일 생성
nano .env
# 환경 변수 입력

# 배포
docker-compose up -d --build
```

### 5단계: 방화벽 설정

Oracle Cloud Console에서:
1. "Networking" → "Virtual Cloud Networks"
2. Security List → Ingress Rules 추가:
   - 포트 80 (HTTP)
   - 포트 443 (HTTPS)

---

## 방법 5: 집에서 사용하는 컴퓨터 (완전 무료)

집에 있는 컴퓨터를 서버로 사용할 수 있습니다.

### 준비물
- 항상 켜져있는 컴퓨터 (또는 라즈베리파이)
- 공유기 포트포워딩 설정

### 1단계: 컴퓨터에 Docker 설치

**Mac/Windows**: Docker Desktop 설치
**Linux**: 
```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
```

### 2단계: 프로젝트 실행

```bash
cd /Users/yaco/Desktop/xlsx
docker-compose up -d --build
```

### 3단계: 공유기 포트포워딩

1. 공유기 관리 페이지 접속 (보통 192.168.0.1)
2. 포트포워딩 설정:
   - 외부 포트 80 → 내부 IP:80
   - 외부 포트 443 → 내부 IP:443

### 4단계: 접속

공인 IP 주소 확인:
```bash
curl ifconfig.me
```

브라우저에서 `http://공인IP주소` 접속

**주의사항:**
- 컴퓨터가 항상 켜져있어야 함
- 전기세가 약간 증가할 수 있음
- 보안 설정 필요 (방화벽 등)

---

## 무료 도메인 받기

### Freenom (완전 무료)
1. https://www.freenom.com 접속
2. 무료 도메인 등록 (.tk, .ml, .ga 등)
3. DNS 설정에서 서버 IP 연결

### Cloudflare (무료 DNS)
1. https://cloudflare.com 접속
2. 도메인 추가
3. DNS 레코드 설정

---

## 추천 조합 (완전 무료)

### 가장 쉬운 방법
- **백엔드**: Railway (무료 티어)
- **프론트엔드**: Vercel (무료)
- **데이터베이스**: Railway PostgreSQL (무료 티어)

### 가장 안정적인 방법
- **전체**: Oracle Cloud Free Tier (평생 무료 VPS)
- **도메인**: Freenom (무료)

### 가장 간단한 방법
- **집 컴퓨터**: Docker로 실행 + 포트포워딩

---

## 비용 비교

| 방법 | 비용 | 난이도 | 안정성 |
|------|------|--------|--------|
| Railway + Vercel | 거의 무료 | ⭐ 쉬움 | ⭐⭐⭐ 좋음 |
| Render | 완전 무료 | ⭐⭐ 보통 | ⭐⭐ 보통 |
| Fly.io | 거의 무료 | ⭐⭐⭐ 어려움 | ⭐⭐⭐ 좋음 |
| Oracle Cloud | 완전 무료 | ⭐⭐ 보통 | ⭐⭐⭐ 좋음 |
| 집 컴퓨터 | 완전 무료 | ⭐ 쉬움 | ⭐ 낮음 |

---

## 빠른 시작 (Railway + Vercel)

### 1. GitHub에 코드 올리기
```bash
cd /Users/yaco/Desktop/xlsx
git init
git add .
git commit -m "Initial commit"
# GitHub에서 저장소 만들고
git remote add origin https://github.com/your-username/assignment.git
git push -u origin main
```

### 2. Railway에서 백엔드 배포
1. https://railway.app → "New Project" → GitHub 저장소 선택
2. "New" → "Database" → "PostgreSQL" 추가
3. 환경 변수 설정
4. 자동 배포 완료!

### 3. Vercel에서 프론트엔드 배포
1. https://vercel.com → "Add New Project" → 저장소 선택
2. Root Directory: `frontend`
3. 환경 변수 설정
4. 배포 완료!

**총 소요 시간: 약 10분**

---

## 문제 해결

**"무료 티어 한도 초과"**
- Railway: 월 5달러 크레딧 (거의 충분)
- Render: 무료 티어는 15분 비활성 시 슬립 모드 (첫 요청 시 깨어남)
- Oracle Cloud: 평생 무료 (한도 없음)

**"도메인 연결이 안 돼요"**
- 무료 도메인은 DNS 전파에 시간이 걸릴 수 있음 (최대 24시간)
- IP 주소로 먼저 테스트

**"배포가 실패해요"**
- 로그 확인: Railway/Vercel 대시보드에서 로그 확인
- 환경 변수 확인: 모든 필수 변수가 설정되었는지 확인

---

## 다음 단계

배포가 완료되면:
1. Google OAuth 설정 업데이트 (새 URL 추가)
2. 관리자 계정으로 로그인 테스트
3. 교사 계정으로 로그인 테스트
4. 모든 기능 테스트

**추천: Railway + Vercel 조합이 가장 쉽고 빠릅니다!**


