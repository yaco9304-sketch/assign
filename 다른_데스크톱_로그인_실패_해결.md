# 다른 데스크톱에서 로그인 실패 문제 해결

## 🔴 문제: 내 컴퓨터에서는 작동하는데 다른 데스크톱에서 안 됨

Network 탭에서 `login` 요청이 `(pending)` 상태로 멈춰있는 경우, 네트워크/방화벽 문제일 가능성이 높습니다.

## 🔍 원인 분석

### 가능한 원인들:

1. **방화벽/보안 소프트웨어**
   - Windows Defender 방화벽
   - 백신 프로그램 (카스퍼스키, 노턴 등)
   - 기업 보안 소프트웨어

2. **네트워크 설정**
   - 회사/학교 네트워크 제한
   - 프록시 설정
   - VPN 연결

3. **브라우저 확장 프로그램**
   - 광고 차단기 (uBlock Origin, AdBlock Plus)
   - 보안 확장 프로그램
   - 프라이버시 확장 프로그램

4. **브라우저 캐시/쿠키**
   - 오래된 캐시 데이터
   - 손상된 쿠키

5. **DNS 문제**
   - DNS 서버 설정 문제
   - DNS 캐시 문제

## ✅ 해결 방법

### 1단계: 시크릿 모드로 테스트

**가장 빠른 확인 방법:**

1. **시크릿 모드 열기**
   - Chrome: `Ctrl+Shift+N` (Windows) 또는 `Cmd+Shift+N` (Mac)
   - Edge: `Ctrl+Shift+N` (Windows) 또는 `Cmd+Shift+N` (Mac)

2. **사이트 접속**
   - `https://yaco9304-sketch.github.io/assign`

3. **로그인 테스트**
   - 시크릿 모드에서 작동하면 → 확장 프로그램 문제
   - 시크릿 모드에서도 안 되면 → 네트워크/방화벽 문제

### 2단계: 브라우저 확장 프로그램 비활성화

**Chrome/Edge:**

1. **확장 프로그램 관리**
   - 주소창에 `chrome://extensions/` 입력
   - 또는 `edge://extensions/` 입력

2. **확장 프로그램 일시 비활성화**
   - 광고 차단기 비활성화
   - 보안/프라이버시 확장 프로그램 비활성화
   - 특히 다음 확장 프로그램 확인:
     - uBlock Origin
     - AdBlock Plus
     - Privacy Badger
     - HTTPS Everywhere
     - NoScript

3. **페이지 새로고침 후 다시 테스트**

### 3단계: 방화벽 확인

**Windows:**

1. **Windows Defender 방화벽 확인**
   - 설정 → 개인 정보 및 보안 → Windows 보안
   - 방화벽 및 네트워크 보호
   - 앱이 방화벽을 통과하도록 허용

2. **백신 프로그램 확인**
   - 백신 프로그램 설정에서 웹 보호 확인
   - 일시적으로 비활성화하여 테스트

3. **기업 보안 소프트웨어**
   - 회사 컴퓨터인 경우 IT 부서에 문의
   - 보안 정책으로 인해 API 요청이 차단될 수 있음

### 4단계: 네트워크 설정 확인

**프록시 설정 확인:**

1. **Windows 설정**
   - 설정 → 네트워크 및 인터넷 → 프록시
   - "자동으로 프록시 설정 검색" 확인
   - 수동 프록시 설정이 있는지 확인

2. **VPN 연결 확인**
   - VPN이 활성화되어 있는지 확인
   - VPN을 끄고 테스트

3. **네트워크 변경**
   - 다른 Wi-Fi 네트워크로 연결
   - 모바일 핫스팟 사용

### 5단계: 브라우저 캐시/쿠키 삭제

**Chrome/Edge:**

1. **설정 열기**
   - `Ctrl+Shift+Delete` (Windows) 또는 `Cmd+Shift+Delete` (Mac)

2. **인터넷 사용 기록 삭제**
   - 시간 범위: "전체 기간"
   - 체크 항목:
     - ✅ 쿠키 및 기타 사이트 데이터
     - ✅ 캐시된 이미지 및 파일
   - "데이터 삭제" 클릭

3. **페이지 새로고침 후 다시 테스트**

### 6단계: DNS 설정 확인

**Windows:**

1. **명령 프롬프트 열기**
   - `Win + R` → `cmd` 입력 → Enter

2. **DNS 캐시 플러시**
   ```cmd
   ipconfig /flushdns
   ```

3. **DNS 서버 변경 (필요 시)**
   - 설정 → 네트워크 및 인터넷 → 어댑터 옵션 변경
   - 네트워크 어댑터 우클릭 → 속성
   - "인터넷 프로토콜 버전 4(TCP/IPv4)" 선택 → 속성
   - 다음 DNS 서버 주소 사용:
     - 기본 설정 DNS 서버: `8.8.8.8` (Google)
     - 보조 DNS 서버: `8.8.4.4` (Google)

### 7단계: 개발자 도구에서 상세 확인

**Network 탭에서:**

1. **F12로 개발자 도구 열기**

2. **Network 탭 확인**
   - `login` 요청 클릭
   - **Headers 탭 확인:**
     - Request URL: `https://assign-hfvk.onrender.com/auth/login`
     - Request Method: `POST`
     - Status Code: 확인 (pending인지, 오류인지)

3. **Timing 탭 확인**
   - 어느 단계에서 멈추는지 확인:
     - **DNS Lookup**: DNS 문제
     - **Initial connection**: 서버 연결 문제
     - **SSL**: 인증서 문제
     - **Request sent**: 요청 전송 후 응답 대기 중

4. **Console 탭 확인**
   - 빨간색 오류 메시지 확인
   - CORS 오류 확인

## 🧪 단계별 진단

### 다른 데스크톱에서 확인할 사항

1. **시크릿 모드 테스트**
   - [ ] 시크릿 모드에서 작동하는가?
   - [ ] 시크릿 모드에서도 안 되는가?

2. **확장 프로그램 확인**
   - [ ] 광고 차단기 비활성화
   - [ ] 보안 확장 프로그램 비활성화

3. **네트워크 확인**
   - [ ] 다른 Wi-Fi 네트워크로 테스트
   - [ ] 모바일 핫스팟으로 테스트
   - [ ] VPN 연결 확인

4. **방화벽 확인**
   - [ ] Windows Defender 방화벽 설정
   - [ ] 백신 프로그램 확인

5. **개발자 도구 확인**
   - [ ] Network 탭에서 `login` 요청 상태
   - [ ] Timing 탭에서 어느 단계에서 멈추는지
   - [ ] Console 탭에서 오류 메시지

## 💡 빠른 해결 시도

### 방법 1: 시크릿 모드 (가장 빠름)

1. **시크릿 모드 열기** (`Ctrl+Shift+N`)
2. **사이트 접속**
3. **로그인 테스트**

### 방법 2: 다른 브라우저

1. **다른 브라우저 설치/사용**
   - Chrome → Edge
   - Edge → Chrome
   - Firefox

2. **로그인 테스트**

### 방법 3: 네트워크 변경

1. **모바일 핫스팟 연결**
2. **다른 Wi-Fi 네트워크 연결**
3. **로그인 테스트**

### 방법 4: 방화벽 예외 추가

**Windows Defender 방화벽:**

1. **설정 → 개인 정보 및 보안 → Windows 보안**
2. **방화벽 및 네트워크 보호**
3. **앱이 방화벽을 통과하도록 허용**
4. **Chrome/Edge 추가**

## 🐛 구체적인 문제별 해결

### Network 탭에서 `(pending)` 상태

**원인:** 요청이 전송되었지만 응답을 받지 못함

**해결:**
1. 방화벽 확인
2. 네트워크 연결 확인
3. VPN/프록시 확인
4. 브라우저 확장 프로그램 비활성화

### CORS 오류

**오류 메시지:**
```
Access to XMLHttpRequest ... has been blocked by CORS policy
```

**해결:**
1. Render 대시보드에서 `ALLOWED_ORIGINS` 확인
2. `https://yaco9304-sketch.github.io` 포함 확인
3. 서비스 재시작

### DNS Lookup 실패

**원인:** DNS 서버가 도메인을 해석하지 못함

**해결:**
1. DNS 캐시 플러시 (`ipconfig /flushdns`)
2. DNS 서버 변경 (Google DNS: 8.8.8.8)
3. 다른 네트워크로 테스트

### SSL/TLS 오류

**원인:** 인증서 문제 또는 보안 소프트웨어 간섭

**해결:**
1. 시스템 시간 확인 (정확한지)
2. 백신 프로그램 확인
3. 방화벽 설정 확인

## 📞 디버깅 정보 수집

다른 데스크톱에서 다음 정보를 수집해주세요:

1. **Network 탭 정보**
   - `login` 요청의 Status 코드
   - Timing 탭에서 어느 단계에서 멈추는지
   - Request Headers 확인

2. **Console 오류 메시지**
   - F12 → Console 탭 → 오류 메시지 복사

3. **시스템 정보**
   - 운영체제 버전
   - 브라우저 종류 및 버전
   - 네트워크 환경 (회사/학교/집)

4. **테스트 결과**
   - 시크릿 모드에서 작동하는가?
   - 다른 브라우저에서 작동하는가?
   - 다른 네트워크에서 작동하는가?

이 정보를 알려주시면 더 정확한 해결 방법을 제시할 수 있습니다.

## 🔧 추가 해결 방법

### PowerShell에서 직접 테스트

**Windows PowerShell:**

```powershell
# 백엔드 서버 연결 테스트
Test-NetConnection -ComputerName assign-hfvk.onrender.com -Port 443

# 또는 curl 사용
curl -X POST https://assign-hfvk.onrender.com/auth/login -H "Content-Type: application/json" -d '{"password":"admin1234","role":"admin"}'
```

이 명령어로 서버 연결이 가능한지 확인할 수 있습니다.

