# 앱 실행 문제 해결 가이드

## 🔴 문제: 앱이 실행되지 않음

## ✅ 현재 상태 확인

- ✅ 백엔드 서버: 실행 중 (`http://localhost:8001`)
- ✅ DMG 파일: 존재함 (`desktop-app/dist/학년 배정 시스템-1.0.0-arm64.dmg`)
- ✅ 앱 파일: 존재함 (`desktop-app/dist/mac-arm64/학년 배정 시스템.app`)

## 🔍 문제 진단 방법

### 1. 앱 실행 확인

**Applications에서 실행:**
1. Applications 폴더 열기
2. "학년 배정 시스템" 더블클릭
3. 보안 경고가 나오면 "열기" 클릭

**또는 터미널에서:**
```bash
open "/Users/yaco/Desktop/xlsx/desktop-app/dist/mac-arm64/학년 배정 시스템.app"
```

### 2. 개발자 도구로 오류 확인

**앱 실행 후:**
1. `Cmd + Option + I` (개발자 도구 열기)
2. **Console 탭** 확인:
   - 빨간색 오류 메시지 확인
   - `Failed to fetch` → 백엔드 연결 문제
   - `Network Error` → 백엔드 연결 문제
   - `CORS error` → 백엔드 CORS 설정 문제

3. **Network 탭** 확인:
   - API 요청이 `http://localhost:8001`로 가는지 확인
   - 요청이 실패하는지 확인

### 3. 백엔드 서버 확인

**터미널에서:**
```bash
curl http://localhost:8001/docs
```

응답이 오면 정상입니다.

## 🛠️ 해결 방법

### 방법 1: 백엔드 서버 재시작

```bash
# 기존 서버 종료
pkill -f uvicorn

# 백엔드 서버 재시작
cd backend
python3 -m uvicorn app.main:app --host 0.0.0.0 --port 8001
```

### 방법 2: 앱 재빌드

```bash
cd desktop-app
npm run build:mac
```

### 방법 3: 개발자 도구에서 직접 확인

1. 앱 실행
2. `Cmd + Option + I` (개발자 도구)
3. Console에서 오류 메시지 확인
4. 오류 메시지를 알려주시면 정확한 해결책을 제시할 수 있습니다

## 📝 일반적인 오류와 해결책

### 오류 1: "Failed to fetch" 또는 "Network Error"

**원인:** 백엔드 서버 미실행 또는 연결 실패

**해결:**
```bash
cd backend
python3 -m uvicorn app.main:app --host 0.0.0.0 --port 8001
```

### 오류 2: "CORS error"

**원인:** 백엔드 CORS 설정 문제

**해결:**
`backend/app/main.py`에서 `ALLOWED_ORIGINS`에 `http://localhost` 추가

### 오류 3: 앱이 열리지 않음

**원인:** macOS 보안 설정

**해결:**
1. 시스템 설정 → 보안 및 개인 정보 보호
2. "확인되지 않은 개발자" 허용
3. 또는 앱을 우클릭 → "열기"

### 오류 4: 빈 화면만 보임

**원인:** 프론트엔드 파일 로드 실패

**해결:**
1. 개발자 도구 열기 (`Cmd + Option + I`)
2. Console에서 오류 확인
3. `renderer/index.html` 파일이 있는지 확인

## 🚀 빠른 테스트

**터미널에서 실행:**
```bash
# 1. 백엔드 서버 확인
curl http://localhost:8001/docs

# 2. 앱 실행
open "/Users/yaco/Desktop/xlsx/desktop-app/dist/mac-arm64/학년 배정 시스템.app"

# 3. 로그 확인 (앱 실행 후)
# 개발자 도구에서 Console 확인
```

## 💡 완전한 해결책 (향후)

현재는 백엔드 서버를 별도로 실행해야 합니다.

**향후 개선:**
- 백엔드를 앱에 포함
- 앱 실행 시 자동으로 백엔드 서버 시작
- 완전히 독립적으로 작동

## 📞 도움 요청

문제가 계속되면 다음 정보를 알려주세요:

1. **개발자 도구 Console 오류 메시지**
2. **Network 탭의 실패한 요청**
3. **앱이 열리는지 여부** (빈 화면인지, 아예 안 열리는지)
4. **백엔드 서버 실행 상태** (`curl http://localhost:8001/docs` 결과)

